# Pinball Machine 
*Gabriella D'Alessio & Ellen Lynch*

## Table Of Contents
* [Planning](#Planning)
* [Timeline](#Timeline)
* [Purchased Parts](#Bill)
* [Key Components](#Components)
* [Weekly Check Ins](#Check-Ins)
* [Operating Intstructions](#Instructions)
* [Engineering Analysis](#Analysis)



## Planning

#### Introduction 
Gaby and I first came up with the idea to make a Pinball Machine last year at the end of Engineering 4 when we had completed our rocket and were looking for an exciting Capstone project. To begin planning, we made a slideshow with all our essential and nonessential requirements for our project and laid out our plans for how the machine should work and all the necessary steps beforehand. [Here's a link to the Pinball Slideshow](https://docs.google.com/presentation/d/1-0p-8omO62feyVH7SRMGAjvP5zyLEiNpoB7CkiigmQg/edit?usp=sharing). 

#### Inspiration 
<img src="https://github.com/elynch78/Pinball/blob/main/images/IMG_3283.png" height="600">
<img src="https://github.com/elynch78/Pinball/blob/main/images/IMG_3288.png" height="600">
<img src="https://github.com/elynch78/Pinball/blob/main/images/IMG_3290.png" height="600">
<img src="https://github.com/elynch78/Pinball/blob/main/images/IMG_3300.png" height="600">

We captured these images at Decades Arcade to gain valuable insights into the diverse features of pinball machines. While we understood that replicating every aspect might not be feasible, we aimed to incorporate our favorite elements from each machine. The spinning plate particularly stood out as uniquely captivating, inspiring us to integrate it into our own design.

<img src="https://github.com/elynch78/Pinball/blob/main/images/IMG_3218.png" height="600">

This image highlights a fascinating mechanical aspect that caught our attention. The switches employed enable circuit completion with just slight pressure—a feature we found particularly intriguing. In our final design, we opted to incorporate micro switches similar to these, inspired by their efficiency, functionality and ease of installation.

<img src="https://github.com/elynch78/Pinball/blob/main/images/IMG_3220.png" height="600">

This image highlights another intriguing mechanical aspect that caught our eye. We set a goal to include a solenoid in our final design for its simplicity and ease of installation.

#### Drawn Diagrams 
<img src="https://github.com/elynch78/Pinball/blob/main/images/IMG_5652.jpg" height="300"> 
<img src="https://github.com/elynch78/Pinball/blob/main/images/IMG_5653.jpg" height="300">

We were faced with a decision between two base designs. The first option was a freestanding design, which would have provided a more cohesive and professional look. However, it required more materials and presented potential transportation issues. On the other hand, the tabletop design required less wood, resulting in cost savings. Ultimately, we opted for the tabletop design, especially since we already had a pinball base, making it the most practical choice.

<img src="https://github.com/elynch78/Pinball/blob/main/images/IMG_5654.jpg" height="300">

To determine the features for our pinball machine, we sketched out three of our favorite designs and selected a standout feature from each. Ultimately, we settled on incorporating a pop bumper, a spinning plate, and originally considered including both targets and rollover buttons. However, due to significant procrastination and the need to revise our timeline, we decided to forgo the last two features. Additionally, although not depicted here, we also felt it was crucial to include a scoring system for the pop bumper, which involved a "simple" LCD connection.


#### Physical Models
<img src="https://github.com/elynch78/Pinball/blob/main/images/IMG_3519.png" height="600">

This cardboard and hot glue creation was inspired by the fundamental design principles of freestanding pinball machines, similar to the arcade setups found in Decades Arcade. While not our final choice, this design provided key insights into base design. We ultimately utilized a premade base from Ms. Gibson, which perfectly suited our needs for the finished product.

<img src="https://github.com/elynch78/Pinball/blob/main/images/IMG_3517.png" height="600">

This meticulous planning phase aimed to identify our preferences and assess feasibility within a one-year timeframe. Our design encompassed a plethora of features including pop-bumpers, rails, triangle bumpers, rollover buttons, targets, and a spinning plate, although the latter proved to be overly cramped. Ultimately, due to self-imposed time constraints, we streamlined our selection to include a pop-bumper and a spinning plate.

#### Revised Plan

<img src="https://github.com/elynch78/Pinball/blob/main/images/IMG_5656.JPG" height="600">

After careful consideration, we finalized the design for our pinball machine. The features we incorporated include the pop bumper, spinning plate, flippers, shooter lane, plunger, and a panel of wood with added lights underneath to create a stunning reflection on our resin playfield and the table top base design. As an additional touch, we installed an LCD on top of the wood plank to elegantly display the score.


## Timeline 

***Initial***

September - October: Planning, weeding out ideas, narrowing our design

November - December: Doing code, making spinning plate, and installing it in our base

January: Wiring LCD, pouring resin playfield, spraypainting base black

February - March: Installing rollover buttons, printing and installing targets, installing a master power source

April: Finishing final aspects, making sure all code works when connected, testing and refinement

May: Final Touches, Presentation

***Revised Schedule***

September - October: Planning, weeding out ideas, narrowing our design

November - December: Doing code, making a spinning plate, and installing it in our base

January: Wiring LCD, pouring resin playfield, spraypainting base black

February - March: Not much progress on the project (huge mistake) 

April: Buying final parts, redoing spinning plate because it was stolen!!!

May: Rushing to do most of the physical project, troubleshooting wiring issues, assembling the full project


## Bill 
* Motor -> $12.99
* Resin Kit -> $12.99
* Pop Bumper Kit -> $60.00
* Micro Switches -> $13.94

Total= $99.93
*We were fortunate that all other materials either came from the lab or were readily available around both of our homes.*

## Components 

### Base & Playfield 

#### Materials ####
* Resin 
* Micah Powder
* Pre-Built Base
* Primer Paint
* Black Spray Paint
* Sand Paper
* Paint Brush
* Scrapers
* Spatula
* Mixing Cups
* Scale
* WD-40
* Drill
* Screws

#### Cad Design ####
No CAD components needed for this portion of the pinball machine. The pinball base was provided complete and the playfield consisted of resin pouring. 

#### Drawings ####
<img src="https://github.com/elynch78/Pinball/blob/main/images/IMG_5669.JPG" height="300">

This diagram outlined our plans for stylizing the exterior and key aspects of the machine.

#### How We Did It ####

*Play Field*

To start, we opted for a resin kit purchased from Amazon and dedicated time to researching the most effective techniques for resin pouring. This was uncharted territory for both of us, and we were eager to learn and apply our newfound knowledge.
<img src="https://github.com/elynch78/Pinball/blob/main/images/Resin%20Set.png" height="300">

We used a scale to ensure equal parts of both the resin and the hardener, and then mixed in grey mica powder. We ended up using 80 grams of both the resin and hardener for the playing field alone. We applied the initial layer of grey resin and let it cure for a minimum of 48 hours. After applying the first coat, we applied a thicker clear coat to cover any uneven spots. We discovered that by using small spurts of WD-40 over the surface, the oils caused the resin to create an amazing moon-like design. This unexpected result led us to change our theme from terminator to the moon, as we found it to be more unique. We then sanded down the area near the shooter lane to ensure that the ball would smoothly roll onto the field without any resistance. Additionally we used the dremil to smooth out certain areas where resin had leaked.
<img src="https://github.com/elynch78/Pinball/blob/main/images/Playfield.png" height="300">

*Base*

To start off, we applied a white primer paint to coat both the exterior and interior walls of the pinball machine. This step was taken before pouring the playfield to prevent any paint spillage. Following that, we covered the top of the pinball machine with tape and towels in preparation for the application of black spray paint. We had to apply two or three coats of paint before achieving the desired level of opacity for the color.

<img src="https://github.com/elynch78/Pinball/blob/main/images/Painting%20Gif.gif" height="300">

Simloutaniously throughtout this proccess we were prepping other parts of the pinball machine like the top board for the pinball machine. It was thanfully a perfect fit so all we had to do for preparation was spraypaint the wood black. Once everything had dried, we installed metal guards at the back to enable the pinball machine to smoothly curve around its top.

<img src="https://github.com/elynch78/Pinball/blob/main/images/IMG_5020.jpg" height="300">

Then we secured the wood plank to the pinball machine using screws and a drill. Before installation, we attached the LED lights to the underside of the plank. Finally, we attached the wooden legs that came with the pinball machine using screws and a drill.

<img src="https://github.com/elynch78/Pinball/blob/main/images/IMG_2776.jpeg" height="300">


#### Code & Wiring ####
*Code*

No code was used for this portion of the project.

*Wiring*

No wiring was used for this portion of the project.

#### Final Product ####
Overall the base and the playfeild were mainly stylistic and didnt require too much work. That being said we were able to gain new skills like how to use resin as neither of us had ever used it prior. It took around 2 months to entierly finish both of these aspects.

<img src=" " height="300">
<img src=" " height="300">




### LCD
#### Materials ####
* Wire
* LCD
* Pico
* Breadboard
* Clay
* USB Cord
#### Cad Design ####
No CAD components needed for this portion of the pinball machine.

#### How We Did It ####

I designed the code to connect our LCD with our Pop Bumper and solenoid. We have a switch under the bottom of the pinball base that closes a circuit when the Pop Bumper is hit. The closed circuit tells the solenoid to shoot down and this tells the LCD to update the score by adding 350 to the previous value. I soldered the wires to make the arduino freestanding and we have it attached to the machine out of sight so you only see the LCD with the score posted by the top of the machine. We also added some clay that was molded to have a moonlike appearance onto the edges of the lcd to hide the metal and add to our theme. 

#### Code & Wiring ####

*Code* 
``` python
import time  
import board 
import busio  
import digitalio
import displayio
 
from lcd.lcd import LCD, CursorMode
from lcd.i2c_pcf8574_interface import I2CPCF8574Interface

button = digitalio.DigitalInOut(board.GP16) #adds in the button
button.direction = digitalio.Direction.INPUT
button.pull = digitalio.Pull.UP #incorperates the button into the circuit


# Pin definitions

# I2C used for LCD Display
i2c_scl = board.GP11
i2c_sda = board.GP10
i2c_address = 0x27 # 39 decimal

# LCD display info
cols = 16
rows = 2

score = 0   #base value starts score at 0
oldbutton_state = 0

# Setup LCD display

i2c = busio.I2C(scl=i2c_scl, sda=i2c_sda)
interface = I2CPCF8574Interface(i2c, i2c_address)  #sets up lcd screen
lcd = LCD(interface, num_rows=rows, num_cols=cols)
lcd.set_cursor_mode(CursorMode.HIDE)

while True: #if the button is pressed this will happen
     if button.value == False: #if pressed
          if oldbutton_state == 0:
               score = score + 350 #each time the button is pushed the score increases by 350
               lcd.set_cursor_pos(0, 0)
               lcd.print(str(score)) #lcd shows new score
               oldbutton_state = 1 #button was pressed
     else:
          oldbutton_state = 0   #only changes when the button is pressedlcd.print ("word")

#sources
##https://www.penguintutor.com/electronics/pico-lcd
##https://learn.adafruit.com/character-lcds/python-circuitpython 
##https://learn.adafruit.com/i2c-spi-lcd-backpack/python-circuitpython 
##https://github.com/T-622/RPI-PICO-I2C-LCD 
```

LCD code was not the highlight of this project for me. This felt really complicated but to be honest starting out what took me the most time to get the LCD code going was simply finding the right libraries to download. I had never used an LCD code before and had no idea where to start out but I used several different websites online (linked in code) to get a feel for how the code needed to be organized and what each aspect did. I used an LCD backpack so the wiring was almost non-existent which was really nice for time, energy, and organization. Using the links I setup the libraries to the LCD and addressed everything so each part would be recognized and run smoothly between the code and LCD itself. Then I added in my code from the button because I need the points scored to show up on the display. To incorporate the points being added to the score on display, I made score a variable and set it to 0 when you start, I was able to then use an equation to make it so that each time the button was pressed, 350 points would be added to the score and stay there until added to again. 

*Wiring*

<img src="https://github.com/elynch78/Pinball/blob/main/images/IMG_5674.PNG" height="300">
<img src="https://github.com/elynch78/Pinball/blob/main/images/IMG_2804.jpg" height="300">
<img src="https://github.com/elynch78/Pinball/blob/main/images/IMG_5682.JPG" height="300">

Above is our wiring diagram for the LCD. Figuring out how to wire the Arduino to the LCD was not very difficult and we’ve used buttons several times before so that was not too hard to add in either. What WAS difficult, was soldering everything once installed. The switch was especially challenging, as it was hot glued to a piece of wood on the underbelly of the machine, and a difficult angle to get to with the soldering iron and solder while also holding the wires. (pictured above)

#### Final Product ####
<img src=" " height="300">
<img src=" " height="300">
<img src=" " height="300">



### Spinning Plate
#### Materials ####
* Acrylic
* Laser Cutter
* Motor
* Clay
* E600
* Wire
* Batteries
* Battery Pack
* Soldering Iron
* Switch

#### Cad Design ####
<img src="https://github.com/elynch78/Pinball/blob/main/images/Spinning%20Plate.png" height="300">

[Link Here](https://cvilleschools.onshape.com/documents/d824201cf901a7f11e74588b/w/5dfb2a3d007e04ecbc9fc8b3/e/71d3843a7a044e62b2f33668).

For the spinning plate, we decided to use CAD to design the acrylic plate itself, as we thought it would be the easiest option. Although it took multiple prints to get the exact size we needed, this was our final CAD file.

#### Drawings ####
<img src="https://github.com/elynch78/Pinball/blob/main/images/IMG_5670.JPG" height="300">

This drawing served as a visual representation of our desired size for the spinning plate.

#### How We Did It ####

When we began working on the spinning plate, we initially decided to place it in the center of the playfield. We marked out a 7-inch by 7-inch hole in the center of the playfield. However, we encountered issues because we hadn't thought ahead about how to cut the hole in the center of the machine. This lack of planning presented a challenge, and we had to come up with a solution on the spot. In the end, we drilled holes around the outside of our outline and used those to create an indentation where the plate would ultimately sit.

<img src="https://github.com/elynch78/Pinball/blob/main/images/Holeonoutside.gif" height="300">

This process took a long time and was quite messy. Our method of creating the hole resulted in it being slightly uneven, but we were able to correct it mostly towards the end. After completing the hole, we then aligned and drilled the hole for the motor in the center of the hole.

<img src="https://github.com/elynch78/Pinball/blob/main/images/Holeoninside.gif" height="300">

Once that was done, we began the installation process, which required clay and E600 to create a strong seal between the wood and the motor.

<img src="https://github.com/elynch78/Pinball/blob/main/images/IMG_5685.JPG" height="300">

Once all of the installation was completed, we moved on to laser-cutting the spinning plate. We remeasured the hole to ensure the measurements were correct and printed a few different designs to get the sizing down to the exact millimeter.

<img src="https://github.com/elynch78/Pinball/blob/main/images/IMG_5684.JPG" height="300">

Once that process was completed, we went back to the laser cutter to cut a small hole in the center of the acrylic to sit the plate on. After that, we simply slid the plate onto the motor and used a small amount of adhesive to secure the plate permanently.

<img src="https://github.com/elynch78/Pinball/blob/main/images/IMG_5045.jpg" height="300">

We then used the soldering station to connect the motor to a 4xAA battery pack and a switch to turn it on and off, completing this portion of our project.



#### Code & Wiring ####
*Code*
There was no code for this portion of our project.

*Wiring*
Below is the final wiring diagram for the circuit used for the spinning plate.

<img src="https://github.com/elynch78/Pinball/blob/main/images/IMG_5671.JPG" height="300">

#### Final Product ####
<img src="https://github.com/elynch78/Pinball/blob/main/images/IMG_5686.JPG" height="300">
<img src="https://github.com/elynch78/Pinball/blob/main/images/SpinningPlateWorking.gif" height="300">
<img src="https://github.com/elynch78/Pinball/blob/main/images/SpinningPlateWorking2.gif" height="300">

### Pop Bumper 
#### Materials ####
* Pop Bumper Kit
* Power Source
* Micro Switches
* Metal Shears
* Wires
* LCD Setup
* Soldering Iron
* Drill
* Screws
  
#### Cad Design ####
We originally used CAD to create a model of where to drill holes into the pinball machine, as shown below. In the end, we decided to go with a pre-bought setup as we were struggling to create our own.

<img src="https://github.com/elynch78/Pinball/blob/main/images/PBTemplate.png" height="300">
[Source](https://cvilleschools.onshape.com/documents/f0ea1c45c067b8242bca60b7/w/810e3731fd3b46815ee7557d/e/efdca7dcd832b3a5a78ccaaf)

#### Drawings ####

<img src="https://github.com/elynch78/Pinball/blob/main/images/IMG_5688.JPG" height="300">

Above is a diagram illustrating how the system works. When the pinball triggers the small white plate, it causes the rod to activate the switch, which in turn makes the solenoid contract. As the solenoid contracts, the metal ring is pulled down, shooting the ball out in a random direction.

#### How We Did It ####

We started off by ordering a specialty part from a [site](https://www.marcospecialties.com/control/main) that makes all kinds of pinball parts for various machines and uses.

<img src="https://github.com/elynch78/Pinball/blob/main/images/Popbumperfromsite.png" height="300">
<img src="https://github.com/elynch78/Pinball/blob/main/images/Popbumpernotinstalled.gif" height="300">

Once the piece arrived, we started to install and assemble it onto the pinball machine. We began by drilling holes into the machine to make space for the metal bracket, center trigger, inner LED wires, and to screw in the bracket on the bottom of the machine.

<img src="https://github.com/elynch78/Pinball/blob/main/images/Topofbumper.png" height="300">

After we had drilled into the machine and begun installation, we realized that the wood was far too thick to properly connect both the top and bottom pieces of the bumper. We unscrewed the pieces we had already connected and started to brainstorm possible solutions. We arrived at the idea to use a specific drill bit to thin the wood evenly in the desired area.

<img src="https://github.com/elynch78/Pinball/blob/main/images/drillbit.png" height="300">

Once we drilled the wood down, we once again tried to install the piece, and this time it fit perfectly!

<img src="https://github.com/elynch78/Pinball/blob/main/images/Drilledinwoodpopbumper.png" height="300">

Once the pop bumper was installed, we then started to design and install the switch. We used the microswitches we purchased and attached a longer piece of metal to the switch's end.

<img src="" height="300">

Then we attached a piece of wood to the bottom of the machine close to where the pop bumper sits.

<img src="" height="300">

Following that step, we attached the switch using hot glue and tested to make sure that the center rod made contact with the switch when pressure was applied to the plate above. Once we had ensured that the circuit was successfully complete, we attached the switch and solenoid to the LCD circuit so it would award appropriate points.

<img src="" height="300">

Lastly, we decided to remove the LED within the bumper and replace it with a custom cap to go with the moon/lunar theme of our pinball. We did this by simply measuring out the outside of the lid and cutting an exact piece from clay so it would fit into the slot. Once that piece had dried, we used superglue to make sure it stayed in place, and then we were finished with this portion of the project!

<img src="" height="300">





#### Code & Wiring ####

*Code* 
``` python
import time  
import board 
import busio  
import digitalio
import displayio
 
from lcd.lcd import LCD, CursorMode
from lcd.i2c_pcf8574_interface import I2CPCF8574Interface

button = digitalio.DigitalInOut(board.GP16) #adds in the button
button.direction = digitalio.Direction.INPUT
button.pull = digitalio.Pull.UP #incorperates the button into the circuit


# Pin definitions

# I2C used for LCD Display
i2c_scl = board.GP11
i2c_sda = board.GP10
i2c_address = 0x27 # 39 decimal

# LCD display info
cols = 16
rows = 2

score = 0   #base value starts score at 0
oldbutton_state = 0

# Setup LCD display

i2c = busio.I2C(scl=i2c_scl, sda=i2c_sda)
interface = I2CPCF8574Interface(i2c, i2c_address)  #sets up lcd screen
lcd = LCD(interface, num_rows=rows, num_cols=cols)
lcd.set_cursor_mode(CursorMode.HIDE)

while True: #if the button is pressed this will happen
     if button.value == False: #if pressed
          if oldbutton_state == 0:
               score = score + 350 #each time the button is pushed the score increases by 350
               lcd.set_cursor_pos(0, 0)
               lcd.print(str(score)) #lcd shows new score
               oldbutton_state = 1 #button was pressed
     else:
          oldbutton_state = 0   #only changes when the button is pressedlcd.print ("word")

#sources
##https://www.penguintutor.com/electronics/pico-lcd
##https://learn.adafruit.com/character-lcds/python-circuitpython 
##https://learn.adafruit.com/i2c-spi-lcd-backpack/python-circuitpython 
##https://github.com/T-622/RPI-PICO-I2C-LCD 
```

The code used for the pop bumper is the same as the code used for the LCD, as both the pop bumper and the LCD are within the same circuit. When the pop bumper is hit, it triggers the switch, completing the circuit and allowing points to be awarded on the LCD.

*Wiring*

<img src="https://github.com/elynch78/Pinball/blob/main/images/IMG_5682.JPG" height="300">

The wiring used for the LCD is the same as the wiring used for the solenoid, as they are all part of the same circuit. When the switch is pressed by the pop bumper, it activates the solenoid, which pulls the metal bracket down and shoots the ball out.

#### Final Product ####
<img src=" " height="300">
<img src=" " height="300">
<img src=" " height="300">


### Flippers 
#### Materials ####
* Resin
* Micah Powder
* Molding Kit
* Drill
* 3D Printer
* Belt Sander
* Dremel
* Hot Glue
#### Cad Design ####

<img src="https://github.com/elynch78/Pinball/blob/main/images/Pinball%20Piece.png" height="300">

[Link Here](https://cvilleschools.onshape.com/documents/f55baecd47c3d5d69468f469/w/300b5bc84cd615cc70ae77ec/e/bfc8cf0f38a4b6ecfc4cf0f6)
We started by creating a CAD design to ensure that the hole of the pinball flippers was the correct size.

#### Drawings ####

Demensions & Theory Drawings
#### How We Did It ####

The only task needed to do the flippers was to make our own custom flippers and ensure that when pressed and released, the flippers would return to normal. The pinball machine came with flippers and a non-automatic mechanism already installed, saving us ample amounts of time.

<img src=" " height="300">

We started by taking a mold using hot glue of the original flippers used. This was a good test of how molding might work for future use.

<img src=" " height="300">

We then used a molding kit that we had lying around in one of our houses to take a better impression of the flipper. We ended up making two of these as the first one came out slightly messed up. The first model is shown in the first image, and the second model is shown in the second image.

<img src=" " height="300">

We used resin to fill the mold and repeated the process twice to get two identical flippers. Once that was done, we used the belt sander to smooth them out. Then, we simply used super glue to install each flipper in the proper orientation on the machine.

<img src=" " height="300">

The next issue we had to tackle was to make the flippers return to their original position. This was an easy fix by placing a rubber band between the two screws of the mechanism underneath the machine, as shown below.

<img src=" " height="300">


This allowed the flippers to return to their natural position after each use of the handles. After this step, we were finished with this portion of the project.



#### Code & Wiring ####

*Code*

There was no code for this portion of the project.

*Wiring*

There was no wiring for this portion of the project.

#### Final Product ####
<img src=" " height="300">
<img src=" " height="300">
<img src=" " height="300">



### Shooter Lane & Plunger 
#### Materials ####
* Sandpaper
* PTFE Lubricant

#### Cad Design ####
No CAD components needed for this portion of the pinball machine.

#### Drawings ####
 
<img src="" height="300">

Here is a diagram that clearly illustrates the shooter lane and plunger mechanism and how it works.



#### How We Did It ####

For this part of the project, we only needed to make some minor adjustments. The track and plunger were already in place, but we had to reduce the resistance on the tracks. To achieve this, we did some additional sanding on the lanes tracks. Additionally, we used PTFE Lubricant to further minimize resistance and friction.

<img src="" height="300">


#### Code & Wiring ####

*Code*
No code was used for this project.

*Wiring*
No wiring was used for this project.

#### Final Product ####

<img src="" height="300">
 


## Instructions
To operate the pinball macine there are a few steps you must follow!
1st- Plug in the extension cord into the wall 

## Analysis 














